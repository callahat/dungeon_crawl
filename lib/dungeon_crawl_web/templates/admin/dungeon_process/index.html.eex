<div class="d-flex flex-column listing-full-height">
  <div class="d-flex flex-row">
    <div class="row m-sm-auto container-fluid">
      <div>
        <h2>Listing dungeon processes</h2>
      </div>
    </div>
  </div>

  <div class="d-flex flex-row flex-grow-1 tile_pallette_group table-responsive">
    <table class="table table-sm">
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Autogen?</th>
          <th>Private?</th>
          <th>Orphaned?</th>
          <th>Node</th>

          <th></th>
        </tr>
      </thead>
      <tbody>
  <%= for {state, dungeon_instance} <- @dungeons do %>
        <tr>
          <td><%= state.dungeon_instance.id %></td>
          <td><%= state.dungeon_instance.name %></td>
          <td><%= state.dungeon_instance.autogenerated %></td>
          <td><%= state.dungeon_instance.is_private %></td>
          <td><%= if dungeon_instance, do: "N", else: "Y" %></td>
          <td><%= to_string state.node %></td>

          <td class="text-right">
            <%= link "Show", to: Routes.admin_dungeon_process_path(@conn, :show, state.dungeon_instance.id), class: "btn btn-light btn-sm" %>
            <%= link "Delete", to: Routes.admin_dungeon_process_path(@conn, :delete, state.dungeon_instance.id), method: :delete, data: [confirm: "Are you sure?"], class: "btn btn-danger btn-sm" %>
          </td>
        </tr>
  <% end %>
      </tbody>
    </table>
  </div>
</div>

